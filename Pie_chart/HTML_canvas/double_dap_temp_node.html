
<!--**************************************************************************************************
 Copyright Â© 2016-2017 Md.Kamruzzaman. All rights reserved.
 The generated code is released under following licenses:
 GNU GENERAL PUBLIC LICENSE, Version 3, 29 June 2007
 --------------------------------------------------------------------------------------------------
 File name: double_dap_temp_node.html
 Objective: Color nodes of the topological object constructed by double filter function DAP and Temperature
 Additional information: NA
 --------------------------------------------------------------------------------------------------
 Contributors                   Date            Task details
 -------------------------    ----------      --------------------
 Md. Kamruzzaman              02/27/2017      Initial version
 Md. Kamruzzaman              06/20/2017      Change node coloring based on phenotype and filter attributes
 
 **************************************************************************************************-->

<html>
	<head>

	</head>
	<body>

		<script type="text/javascript">
			//Returns contents of a canvas as a png based data url, with the specified
			//background color
			function canvasToImage(_canvas, backgroundColor)
			{
			    //cache height and width        
			    var w = canvas.width;
			    var h = canvas.height;
			    var context = _canvas.getContext('2d');

			    var data;       

			    if(backgroundColor)
			    {
			        //get the current ImageData for the canvas.
			        data = context.getImageData(0, 0, w, h);

			        //store the current globalCompositeOperation
			        var compositeOperation = context.globalCompositeOperation;

			        //set to draw behind current content
			        context.globalCompositeOperation = "destination-over";

			        //set background color
			        context.fillStyle = backgroundColor;

			        //draw background / rect on entire canvas
			        context.fillRect(0,0,w,h);
			    }

			    //get the image data from the canvas
			    var imageData = _canvas.toDataURL("./png");

			    if(backgroundColor)
			    {
			        //clear the canvas
			        context.clearRect (0,0,w,h);

			        //restore it with original / cached ImageData
			        context.putImageData(data, 0,0);        

			        //reset the globalCompositeOperation to what it was
			        context.globalCompositeOperation = compositeOperation;
			    }

			    //return the Base64 encoded data url string
			    return imageData;
			}

			function drawText(_canvas, text, position, style){
				var context = _canvas.getContext('2d');

				context.font = style.font;//'bold 10pt Calibri';
				context.fillStyle = style.color;
  				context.fillText(text, (position.x1+position.x2)/2, (position.y1+position.y2)/2);
			}

			function drawPie(_canvas, position, data, _id, _adjust){
				var total = 0;
				  for (obj of data) {
				    total += obj.value;
				  }

				  var ctx = _canvas.getContext('2d');
				  var previousRadian;
				  var middle = {
				  	// for 3 paths
				    x: position.x,
				    y: 777-position.y,

				    // for all paths
				    //x: position.x+1,
				    //y: position.y-13,
				    radius: position.rad,
				  };
				  
				   //background
				  ctx.beginPath();
				  ctx.arc(middle.x, middle.y, middle.radius, 0, 2 * Math.PI);
				  ctx.closePath();
				  ctx.stroke();
				  ctx.fillStyle = "black";
				  ctx.fill();
				   //end of background

				  for (obj of data) {
				    previousRadian = previousRadian || 0;
				    obj.percentage = parseInt((obj.value / total) * 100)
				    
				    ctx.beginPath();
				    ctx.fillStyle = obj.color;
				    obj.radian = (Math.PI * 2) * (obj.value / total);
				    ctx.moveTo(middle.x, middle.y);
				    //middle.radius - 2 is to add border between the background and the pie chart
				    ctx.arc(middle.x, middle.y, middle.radius - 2, previousRadian, previousRadian + obj.radian, false);
				    ctx.closePath();
				    ctx.fill();
				    ctx.save();
				    ctx.translate(middle.x, middle.y);
				    ctx.fillStyle = "black";

				    var c = obj.color;
				    if(c[5]=='f'&&c[6]=='f'){
				    	if(c[1]=='0'&&c[2]=='0'&&c[3]<='8')
				    		ctx.fillStyle = "yellow";
				    }

				    if(c[3]<='8'&&c[5]=='0'&&c[6]=='0'){
				    	if(c[1]=='f'&&c[2]=='f')
				    		ctx.fillStyle = "yellow";
				    }

				    ctx.font = (_adjust+(middle.radius / 2)) + "px arial bolder";
				    //ctx.rotate(previousRadian + obj.radian);
				    //\var labelText = "'" + obj.label + "' " + obj.percentage  + "%";
				    ctx.fillText(obj.label, -(ctx.measureText(obj.label).width / 2), 5);
				    //tx.fillText(_id);
				    ctx.restore();

				    previousRadian += obj.radian;
				  }

			}
		</script>

		<canvas id="myCanvas" width="1455" height="777"></canvas>
		<script type="text/javascript">
			var canvas = document.getElementById('myCanvas');
			
			var data=[{id:104,p:{x:1018.000000,y:77.000000,rad:21.66}, d:[{label: "BK",value: 18,color: '#ff0000'},{label: "BN",value: 20,color: '#E67E22'}]},{id:93,p:{x:1260.000000,y:524.000000,rad:16.66}, d:[{label: "BK",value: 24,color: '#ff0000'}]},{id:99,p:{x:1263.000000,y:292.000000,rad:18.33}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:103,p:{x:987.000000,y:273.000000,rad:15.00}, d:[{label: "BN",value: 15,color: '#E67E22'}]},{id:102,p:{x:1159.000000,y:200.000000,rad:18.33}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:56,p:{x:1180.000000,y:548.000000,rad:18.33}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:101,p:{x:1207.000000,y:250.000000,rad:20.00}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:55,p:{x:1168.000000,y:615.000000,rad:16.66}, d:[{label: "BK",value: 24,color: '#ff0000'}]},{id:68,p:{x:958.000000,y:136.000000,rad:23.33}, d:[{label: "BK",value: 24,color: '#ff0000'},{label: "BN",value: 20,color: '#E67E22'}]},{id:91,p:{x:1258.000000,y:590.000000,rad:15.00}, d:[{label: "BK",value: 18,color: '#ff0000'}]},{id:97,p:{x:1199.000000,y:412.000000,rad:18.33}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:28,p:{x:997.000000,y:197.000000,rad:16.66}, d:[{label: "BK",value: 18,color: '#ff0000'},{label: "BN",value: 5,color: '#E67E22'}]},{id:95,p:{x:1219.000000,y:471.000000,rad:20.00}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:67,p:{x:1063.000000,y:143.000000,rad:30.00}, d:[{label: "BK",value: 36,color: '#ff0000'},{label: "BN",value: 30,color: '#E67E22'}]},{id:65,p:{x:1050.000000,y:250.000000,rad:20.00}, d:[{label: "BK",value: 24,color: '#ff0000'},{label: "BN",value: 10,color: '#E67E22'}]},{id:64,p:{x:1113.000000,y:297.000000,rad:20.00}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:61,p:{x:1177.000000,y:352.000000,rad:21.66}, d:[{label: "BK",value: 42,color: '#ff0000'}]},{id:59,p:{x:1299.000000,y:357.000000,rad:15.00}, d:[{label: "BK",value: 18,color: '#ff0000'}]},{id:98,p:{x:1051.000000,y:406.000000,rad:23.07}, d:[{label: "BN",value: 20,color: '#E67E22'}]},{id:52,p:{x:731.000000,y:167.000000,rad:27.69}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:96,p:{x:951.000000,y:395.000000,rad:23.07}, d:[{label: "BN",value: 20,color: '#E67E22'}]},{id:50,p:{x:671.000000,y:92.000000,rad:23.07}, d:[{label: "BN",value: 20,color: '#E67E22'}]},{id:85,p:{x:641.000000,y:184.000000,rad:27.69}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:63,p:{x:1097.000000,y:473.000000,rad:20.76}, d:[{label: "BN",value: 15,color: '#E67E22'}]},{id:94,p:{x:797.000000,y:422.000000,rad:20.76}, d:[{label: "BN",value: 15,color: '#E67E22'}]},{id:48,p:{x:565.000000,y:150.000000,rad:25.38}, d:[{label: "BN",value: 25,color: '#E67E22'}]},{id:89,p:{x:733.000000,y:270.000000,rad:25.38}, d:[{label: "BN",value: 25,color: '#E67E22'}]},{id:92,p:{x:801.000000,y:330.000000,rad:27.69}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:23,p:{x:813.000000,y:137.000000,rad:15.00}, d:[{label: "BN",value: 5,color: '#E67E22'}]},{id:84,p:{x:585.000000,y:52.000000,rad:30.00}, d:[{label: "BN",value: 35,color: '#E67E22'}]},{id:82,p:{x:506.367096,y:56.268311,rad:20.76}, d:[{label: "BN",value: 15,color: '#E67E22'}]},{id:60,p:{x:997.000000,y:484.000000,rad:27.69}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:58,p:{x:875.000000,y:480.000000,rad:30.00}, d:[{label: "BN",value: 35,color: '#E67E22'}]},{id:57,p:{x:875.000000,y:372.000000,rad:23.07}, d:[{label: "BN",value: 20,color: '#E67E22'}]},{id:54,p:{x:823.000000,y:224.000000,rad:25.38}, d:[{label: "BN",value: 25,color: '#E67E22'}]},{id:24,p:{x:936.000000,y:543.000000,rad:18.46}, d:[{label: "BN",value: 10,color: '#E67E22'}]},{id:66,p:{x:1017.000000,y:674.000000,rad:15.00}, d:[{label: "BN",value: 5,color: '#E67E22'}]},{id:25,p:{x:966.000000,y:731.000000,rad:30.00}, d:[{label: "BN",value: 10,color: '#E67E22'}]},{id:87,p:{x:920.000000,y:656.000000,rad:19.56}, d:[{label: "BK",value: 24,color: '#ff0000'}]},{id:40,p:{x:324.000000,y:129.000000,rad:19.56}, d:[{label: "BN",value: 20,color: '#E67E22'}]},{id:76,p:{x:407.000000,y:87.000000,rad:22.17}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:29,p:{x:669.000000,y:672.000000,rad:18.26}, d:[{label: "BK",value: 18,color: '#ff0000'}]},{id:86,p:{x:839.000000,y:686.000000,rad:18.26}, d:[{label: "BK",value: 18,color: '#ff0000'}]},{id:39,p:{x:317.000000,y:285.000000,rad:20.86}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:75,p:{x:389.000000,y:260.000000,rad:22.17}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:81,p:{x:583.000000,y:504.000000,rad:23.47}, d:[{label: "BK",value: 42,color: '#ff0000'}]},{id:34,p:{x:236.000000,y:419.000000,rad:30.00}, d:[{label: "BK",value: 42,color: '#ff0000'},{label: "BN",value: 25,color: '#E67E22'}]},{id:83,p:{x:627.000000,y:578.000000,rad:18.26}, d:[{label: "BK",value: 18,color: '#ff0000'}]},{id:36,p:{x:146.000000,y:283.000000,rad:27.39}, d:[{label: "BK",value: 24,color: '#ff0000'},{label: "BN",value: 30,color: '#E67E22'}]},{id:80,p:{x:543.000000,y:414.000000,rad:23.47}, d:[{label: "BK",value: 42,color: '#ff0000'}]},{id:33,p:{x:319.000000,y:476.000000,rad:24.78}, d:[{label: "BK",value: 18,color: '#ff0000'},{label: "BN",value: 25,color: '#E67E22'}]},{id:79,p:{x:453.000000,y:408.000000,rad:22.17}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:32,p:{x:480.000000,y:588.000000,rad:19.56}, d:[{label: "BK",value: 6,color: '#ff0000'},{label: "BN",value: 15,color: '#E67E22'}]},{id:78,p:{x:455.000000,y:199.000000,rad:20.86}, d:[{label: "BN",value: 25,color: '#E67E22'}]},{id:31,p:{x:551.000000,y:631.000000,rad:19.56}, d:[{label: "BK",value: 24,color: '#ff0000'}]},{id:77,p:{x:459.000000,y:326.000000,rad:22.17}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:30,p:{x:574.000000,y:701.000000,rad:23.47}, d:[{label: "BK",value: 42,color: '#ff0000'}]},{id:74,p:{x:289.000000,y:48.000000,rad:20.86}, d:[{label: "BN",value: 25,color: '#E67E22'}]},{id:51,p:{x:867.000000,y:601.000000,rad:22.17}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:73,p:{x:320.000000,y:193.000000,rad:20.86}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:72,p:{x:192.000000,y:78.000000,rad:20.86}, d:[{label: "BN",value: 25,color: '#E67E22'}]},{id:49,p:{x:728.000000,y:579.000000,rad:23.47}, d:[{label: "BK",value: 42,color: '#ff0000'}]},{id:71,p:{x:165.000000,y:173.000000,rad:20.86}, d:[{label: "BN",value: 25,color: '#E67E22'}]},{id:70,p:{x:101.000000,y:210.000000,rad:16.95}, d:[{label: "BN",value: 10,color: '#E67E22'}]},{id:47,p:{x:670.000000,y:508.000000,rad:19.56}, d:[{label: "BK",value: 24,color: '#ff0000'}]},{id:69,p:{x:311.000000,y:391.000000,rad:19.56}, d:[{label: "BK",value: 24,color: '#ff0000'}]},{id:22,p:{x:799.000000,y:544.000000,rad:18.26}, d:[{label: "BK",value: 18,color: '#ff0000'}]},{id:46,p:{x:582.000000,y:238.000000,rad:22.17}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:45,p:{x:517.000000,y:197.000000,rad:23.47}, d:[{label: "BN",value: 35,color: '#E67E22'}]},{id:44,p:{x:504.000000,y:474.000000,rad:16.95}, d:[{label: "BK",value: 12,color: '#ff0000'}]},{id:43,p:{x:491.000000,y:128.000000,rad:22.17}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:42,p:{x:384.000000,y:344.000000,rad:20.86}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:41,p:{x:400.000000,y:152.000000,rad:22.17}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:38,p:{x:250.000000,y:137.000000,rad:20.86}, d:[{label: "BN",value: 25,color: '#E67E22'}]},{id:37,p:{x:244.000000,y:193.000000,rad:20.86}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:35,p:{x:217.000000,y:338.000000,rad:28.69}, d:[{label: "BK",value: 36,color: '#ff0000'},{label: "BN",value: 25,color: '#E67E22'}]},{id:21,p:{x:791.000000,y:642.000000,rad:18.26}, d:[{label: "BK",value: 18,color: '#ff0000'}]},{id:20,p:{x:573.000000,y:302.000000,rad:18.26}, d:[{label: "BN",value: 15,color: '#E67E22'}]},{id:19,p:{x:233.000000,y:264.000000,rad:24.78}, d:[{label: "BK",value: 24,color: '#ff0000'},{label: "BN",value: 20,color: '#E67E22'}]},{id:18,p:{x:121.000000,y:371.000000,rad:24.78}, d:[{label: "BK",value: 12,color: '#ff0000'},{label: "BN",value: 30,color: '#E67E22'}]},{id:17,p:{x:150.000000,y:454.000000,rad:27.39}, d:[{label: "BK",value: 18,color: '#ff0000'},{label: "BN",value: 35,color: '#E67E22'}]},{id:16,p:{x:251.000000,y:510.000000,rad:26.08}, d:[{label: "BK",value: 24,color: '#ff0000'},{label: "BN",value: 25,color: '#E67E22'}]},{id:15,p:{x:367.000000,y:559.000000,rad:23.47}, d:[{label: "BK",value: 12,color: '#ff0000'},{label: "BN",value: 25,color: '#E67E22'}]},{id:14,p:{x:408.000000,y:627.000000,rad:26.08}, d:[{label: "BK",value: 18,color: '#ff0000'},{label: "BN",value: 30,color: '#E67E22'}]},{id:13,p:{x:484.000000,y:689.000000,rad:26.08}, d:[{label: "BK",value: 30,color: '#ff0000'},{label: "BN",value: 20,color: '#E67E22'}]},{id:12,p:{x:636.352478,y:731.823364,rad:22.17}, d:[{label: "BK",value: 24,color: '#ff0000'},{label: "BN",value: 10,color: '#E67E22'}]},{id:11,p:{x:630.000000,y:322.000000,rad:15.00}, d:[{label: "BN",value: 5,color: '#E67E22'}]},{id:10,p:{x:130.000000,y:585.000000,rad:15.00}, d:[{label: "BN",value: 5,color: '#E67E22'}]},{id:9,p:{x:165.000000,y:558.000000,rad:19.56}, d:[{label: "BK",value: 18,color: '#ff0000'},{label: "BN",value: 5,color: '#E67E22'}]},{id:8,p:{x:286.000000,y:594.000000,rad:26.08}, d:[{label: "BK",value: 42,color: '#ff0000'},{label: "BN",value: 10,color: '#E67E22'}]},{id:7,p:{x:336.000000,y:665.000000,rad:26.08}, d:[{label: "BK",value: 30,color: '#ff0000'},{label: "BN",value: 20,color: '#E67E22'}]},{id:5,p:{x:730.277954,y:750.000000,rad:20.86}, d:[{label: "BK",value: 6,color: '#ff0000'},{label: "BN",value: 20,color: '#E67E22'}]},{id:4,p:{x:203.000000,y:629.000000,rad:20.86}, d:[{label: "BK",value: 24,color: '#ff0000'},{label: "BN",value: 5,color: '#E67E22'}]},{id:3,p:{x:249.000000,y:696.000000,rad:19.56}, d:[{label: "BK",value: 24,color: '#ff0000'}]},{id:2,p:{x:892.677246,y:735.287720,rad:16.95}, d:[{label: "BN",value: 10,color: '#E67E22'}]},{id:1,p:{x:818.498169,y:744.356934,rad:19.56}, d:[{label: "BN",value: 20,color: '#E67E22'}]},{id:6,p:{x:400.000000,y:716.000000,rad:20.86}, d:[{label: "BK",value: 6,color: '#ff0000'},{label: "BN",value: 20,color: '#E67E22'}]}];

			var ph=[{id:104, d:{label: 'P',value: 0.10,color: '#000bff'}},{id:93, d:{label: 'P',value: 0.00,color: '#0001ff'}},{id:99, d:{label: 'P',value: 0.00,color: '#0000ff'}},{id:103, d:{label: 'P',value: 1.03,color: '#006cff'}},{id:102, d:{label: 'P',value: 0.00,color: '#0000ff'}},{id:56, d:{label: 'P',value: 0.02,color: '#0002ff'}},{id:101, d:{label: 'P',value: 0.00,color: '#0000ff'}},{id:55, d:{label: 'P',value: 0.15,color: '#0010ff'}},{id:68, d:{label: 'P',value: 0.09,color: '#0009ff'}},{id:91, d:{label: 'P',value: 0.23,color: '#0019ff'}},{id:97, d:{label: 'P',value: 0.00,color: '#0000ff'}},{id:28, d:{label: 'P',value: 0.13,color: '#000eff'}},{id:95, d:{label: 'P',value: 0.00,color: '#0000ff'}},{id:67, d:{label: 'P',value: 0.19,color: '#0014ff'}},{id:65, d:{label: 'P',value: 0.21,color: '#0016ff'}},{id:64, d:{label: 'P',value: 0.00,color: '#0000ff'}},{id:61, d:{label: 'P',value: 0.00,color: '#0000ff'}},{id:59, d:{label: 'P',value: 0.00,color: '#0000ff'}},{id:98, d:{label: 'P',value: 6.50,color: '#abff00'}},{id:52, d:{label: 'P',value: 2.49,color: '#00fff8'}},{id:96, d:{label: 'P',value: 6.42,color: '#a3ff00'}},{id:50, d:{label: 'P',value: 2.03,color: '#00d5ff'}},{id:85, d:{label: 'P',value: 1.95,color: '#00ccff'}},{id:63, d:{label: 'P',value: 6.36,color: '#9cff00'}},{id:94, d:{label: 'P',value: 4.83,color: '#00ff03'}},{id:48, d:{label: 'P',value: 1.34,color: '#008dff'}},{id:89, d:{label: 'P',value: 3.42,color: '#00ff97'}},{id:92, d:{label: 'P',value: 4.33,color: '#00ff37'}},{id:23, d:{label: 'P',value: 2.78,color: '#00ffd9'}},{id:84, d:{label: 'P',value: 1.47,color: '#009aff'}},{id:82, d:{label: 'P',value: 1.23,color: '#0081ff'}},{id:60, d:{label: 'P',value: 6.62,color: '#b8ff00'}},{id:58, d:{label: 'P',value: 6.42,color: '#a3ff00'}},{id:57, d:{label: 'P',value: 5.73,color: '#5aff00'}},{id:54, d:{label: 'P',value: 3.15,color: '#00ffb3'}},{id:24, d:{label: 'P',value: 6.87,color: '#d2ff00'}},{id:66, d:{label: 'P',value: 1.79,color: '#00bcff'}},{id:25, d:{label: 'P',value: 2.07,color: '#00d9ff'}},{id:87, d:{label: 'P',value: 9.61,color: '#ff0c00'}},{id:40, d:{label: 'P',value: 0.26,color: '#001bff'}},{id:76, d:{label: 'P',value: 0.36,color: '#0026ff'}},{id:29, d:{label: 'P',value: 0.13,color: '#000eff'}},{id:86, d:{label: 'P',value: 9.73,color: '#ff0000'}},{id:39, d:{label: 'P',value: 1.35,color: '#008eff'}},{id:75, d:{label: 'P',value: 1.71,color: '#00b3ff'}},{id:81, d:{label: 'P',value: 4.45,color: '#00ff2a'}},{id:34, d:{label: 'P',value: 0.34,color: '#0023ff'}},{id:83, d:{label: 'P',value: 5.09,color: '#17ff00'}},{id:36, d:{label: 'P',value: 0.40,color: '#0029ff'}},{id:80, d:{label: 'P',value: 3.60,color: '#00ff84'}},{id:33, d:{label: 'P',value: 0.20,color: '#0015ff'}},{id:79, d:{label: 'P',value: 2.81,color: '#00ffd7'}},{id:32, d:{label: 'P',value: 0.08,color: '#0009ff'}},{id:78, d:{label: 'P',value: 0.47,color: '#0031ff'}},{id:31, d:{label: 'P',value: 0.19,color: '#0014ff'}},{id:77, d:{label: 'P',value: 2.20,color: '#00e7ff'}},{id:30, d:{label: 'P',value: 0.16,color: '#0010ff'}},{id:74, d:{label: 'P',value: 0.28,color: '#001dff'}},{id:51, d:{label: 'P',value: 9.02,color: '#ff4a00'}},{id:73, d:{label: 'P',value: 1.43,color: '#0096ff'}},{id:72, d:{label: 'P',value: 0.21,color: '#0016ff'}},{id:49, d:{label: 'P',value: 7.28,color: '#fdff00'}},{id:71, d:{label: 'P',value: 0.17,color: '#0011ff'}},{id:70, d:{label: 'P',value: 0.14,color: '#000eff'}},{id:47, d:{label: 'P',value: 6.08,color: '#7fff00'}},{id:69, d:{label: 'P',value: 0.54,color: '#0039ff'}},{id:22, d:{label: 'P',value: 8.30,color: '#ff9500'}},{id:46, d:{label: 'P',value: 0.80,color: '#0054ff'}},{id:45, d:{label: 'P',value: 0.65,color: '#0044ff'}},{id:44, d:{label: 'P',value: 3.21,color: '#00ffad'}},{id:43, d:{label: 'P',value: 0.48,color: '#0033ff'}},{id:42, d:{label: 'P',value: 2.04,color: '#00d5ff'}},{id:41, d:{label: 'P',value: 0.37,color: '#0027ff'}},{id:38, d:{label: 'P',value: 0.20,color: '#0015ff'}},{id:37, d:{label: 'P',value: 1.16,color: '#0079ff'}},{id:35, d:{label: 'P',value: 0.41,color: '#002bff'}},{id:21, d:{label: 'P',value: 8.30,color: '#ff9500'}},{id:20, d:{label: 'P',value: 0.96,color: '#0065ff'}},{id:19, d:{label: 'P',value: 0.49,color: '#0033ff'}},{id:18, d:{label: 'P',value: 0.24,color: '#0019ff'}},{id:17, d:{label: 'P',value: 0.20,color: '#0015ff'}},{id:16, d:{label: 'P',value: 0.21,color: '#0016ff'}},{id:15, d:{label: 'P',value: 0.13,color: '#000eff'}},{id:14, d:{label: 'P',value: 0.09,color: '#000aff'}},{id:13, d:{label: 'P',value: 0.12,color: '#000dff'}},{id:12, d:{label: 'P',value: 0.09,color: '#0009ff'}},{id:11, d:{label: 'P',value: 0.96,color: '#0065ff'}},{id:10, d:{label: 'P',value: 0.07,color: '#0007ff'}},{id:9, d:{label: 'P',value: 0.29,color: '#001eff'}},{id:8, d:{label: 'P',value: 0.26,color: '#001bff'}},{id:7, d:{label: 'P',value: 0.16,color: '#0011ff'}},{id:5, d:{label: 'P',value: 0.03,color: '#0003ff'}},{id:4, d:{label: 'P',value: 0.24,color: '#0019ff'}},{id:3, d:{label: 'P',value: 0.29,color: '#001eff'}},{id:2, d:{label: 'P',value: 0.02,color: '#0002ff'}},{id:1, d:{label: 'P',value: 0.01,color: '#0001ff'}},{id:6, d:{label: 'P',value: 0.06,color: '#0006ff'}}];



			var dap=[{id:104, d:{label: 'T',value: 98.71,color: '#ff0000'}},{id:93, d:{label: 'T',value: 76.25,color: '#ffed00'}},{id:99, d:{label: 'T',value: 86.00,color: '#ff8600'}},{id:103, d:{label: 'T',value: 93.00,color: '#ff3c00'}},{id:102, d:{label: 'T',value: 92.00,color: '#ff4600'}},{id:56, d:{label: 'T',value: 75.40,color: '#fff600'}},{id:101, d:{label: 'T',value: 89.16,color: '#ff6400'}},{id:55, d:{label: 'T',value: 73.25,color: '#f0ff00'}},{id:68, d:{label: 'T',value: 98.50,color: '#ff0200'}},{id:91, d:{label: 'T',value: 72.33,color: '#e7ff00'}},{id:97, d:{label: 'T',value: 82.19,color: '#ffae00'}},{id:28, d:{label: 'T',value: 95.75,color: '#ff1f00'}},{id:95, d:{label: 'T',value: 79.00,color: '#ffd000'}},{id:67, d:{label: 'T',value: 96.41,color: '#ff1800'}},{id:65, d:{label: 'T',value: 93.16,color: '#ff3a00'}},{id:64, d:{label: 'T',value: 88.66,color: '#ff6a00'}},{id:61, d:{label: 'T',value: 86.00,color: '#ff8600'}},{id:59, d:{label: 'T',value: 84.00,color: '#ff9b00'}},{id:98, d:{label: 'T',value: 83.50,color: '#ffa000'}},{id:52, d:{label: 'T',value: 65.50,color: '#9eff00'}},{id:96, d:{label: 'T',value: 79.00,color: '#ffd000'}},{id:50, d:{label: 'T',value: 63.00,color: '#84ff00'}},{id:85, d:{label: 'T',value: 62.50,color: '#7fff00'}},{id:63, d:{label: 'T',value: 84.00,color: '#ff9b00'}},{id:94, d:{label: 'T',value: 74.00,color: '#f8ff00'}},{id:48, d:{label: 'T',value: 58.00,color: '#4fff00'}},{id:89, d:{label: 'T',value: 69.40,color: '#c8ff00'}},{id:92, d:{label: 'T',value: 72.50,color: '#e8ff00'}},{id:23, d:{label: 'T',value: 67.00,color: '#aeff00'}},{id:84, d:{label: 'T',value: 59.00,color: '#5aff00'}},{id:82, d:{label: 'T',value: 57.00,color: '#45ff00'}},{id:60, d:{label: 'T',value: 82.50,color: '#ffab00'}},{id:58, d:{label: 'T',value: 79.00,color: '#ffd000'}},{id:57, d:{label: 'T',value: 76.50,color: '#ffea00'}},{id:54, d:{label: 'T',value: 68.40,color: '#bdff00'}},{id:24, d:{label: 'T',value: 80.50,color: '#ffc000'}},{id:66, d:{label: 'T',value: 91.00,color: '#ff5100'}},{id:25, d:{label: 'T',value: 90.50,color: '#ff5600'}},{id:87, d:{label: 'T',value: 64.50,color: '#94ff00'}},{id:40, d:{label: 'T',value: 38.00,color: '#00ff83'}},{id:76, d:{label: 'T',value: 42.00,color: '#00ff59'}},{id:29, d:{label: 'T',value: 3.00,color: '#0008ff'}},{id:86, d:{label: 'T',value: 64.00,color: '#8fff00'}},{id:39, d:{label: 'T',value: 35.20,color: '#00ffa1'}},{id:75, d:{label: 'T',value: 38.50,color: '#00ff7e'}},{id:81, d:{label: 'T',value: 52.00,color: '#10ff00'}},{id:34, d:{label: 'T',value: 21.91,color: '#00d0ff'}},{id:83, d:{label: 'T',value: 54.00,color: '#25ff00'}},{id:36, d:{label: 'T',value: 28.29,color: '#00ffea'}},{id:80, d:{label: 'T',value: 49.00,color: '#00ff0f'}},{id:33, d:{label: 'T',value: 19.12,color: '#00b2ff'}},{id:79, d:{label: 'T',value: 45.50,color: '#00ff34'}},{id:32, d:{label: 'T',value: 13.25,color: '#0074ff'}},{id:78, d:{label: 'T',value: 45.20,color: '#00ff37'}},{id:31, d:{label: 'T',value: 8.00,color: '#003dff'}},{id:77, d:{label: 'T',value: 42.00,color: '#00ff59'}},{id:30, d:{label: 'T',value: 5.00,color: '#001dff'}},{id:74, d:{label: 'T',value: 39.00,color: '#00ff79'}},{id:51, d:{label: 'T',value: 62.50,color: '#7fff00'}},{id:73, d:{label: 'T',value: 36.00,color: '#00ff98'}},{id:72, d:{label: 'T',value: 35.40,color: '#00ff9f'}},{id:49, d:{label: 'T',value: 59.00,color: '#5aff00'}},{id:71, d:{label: 'T',value: 32.59,color: '#00ffbc'}},{id:70, d:{label: 'T',value: 30.50,color: '#00ffd2'}},{id:47, d:{label: 'T',value: 56.50,color: '#3fff00'}},{id:69, d:{label: 'T',value: 22.25,color: '#00d3ff'}},{id:22, d:{label: 'T',value: 61.00,color: '#6fff00'}},{id:46, d:{label: 'T',value: 51.66,color: '#0cff00'}},{id:45, d:{label: 'T',value: 49.00,color: '#00ff0f'}},{id:44, d:{label: 'T',value: 47.50,color: '#00ff1f'}},{id:43, d:{label: 'T',value: 45.50,color: '#00ff34'}},{id:42, d:{label: 'T',value: 41.00,color: '#00ff63'}},{id:41, d:{label: 'T',value: 42.16,color: '#00ff57'}},{id:38, d:{label: 'T',value: 35.00,color: '#00ffa3'}},{id:37, d:{label: 'T',value: 33.00,color: '#00ffb8'}},{id:35, d:{label: 'T',value: 25.72,color: '#00f8ff'}},{id:21, d:{label: 'T',value: 61.00,color: '#6fff00'}},{id:20, d:{label: 'T',value: 54.00,color: '#25ff00'}},{id:19, d:{label: 'T',value: 28.25,color: '#00ffea'}},{id:18, d:{label: 'T',value: 25.50,color: '#00f6ff'}},{id:17, d:{label: 'T',value: 21.90,color: '#00d0ff'}},{id:16, d:{label: 'T',value: 18.55,color: '#00acff'}},{id:15, d:{label: 'T',value: 15.42,color: '#008bff'}},{id:14, d:{label: 'T',value: 11.22,color: '#005fff'}},{id:13, d:{label: 'T',value: 9.00,color: '#0047ff'}},{id:12, d:{label: 'T',value: 2.33,color: '#0001ff'}},{id:11, d:{label: 'T',value: 54.00,color: '#25ff00'}},{id:10, d:{label: 'T',value: 22.00,color: '#00d1ff'}},{id:9, d:{label: 'T',value: 17.25,color: '#009fff'}},{id:8, d:{label: 'T',value: 15.00,color: '#0087ff'}},{id:7, d:{label: 'T',value: 11.66,color: '#0064ff'}},{id:5, d:{label: 'T',value: 2.20,color: '#0000ff'}},{id:4, d:{label: 'T',value: 14.40,color: '#0080ff'}},{id:3, d:{label: 'T',value: 13.50,color: '#0077ff'}},{id:2, d:{label: 'T',value: 6.50,color: '#002dff'}},{id:1, d:{label: 'T',value: 4.75,color: '#001aff'}},{id:6, d:{label: 'T',value: 9.40,color: '#004cff'}}];



			var temp=[{id:104, d:{label: 'S',value: 91.14,color: '#ff9100'}},{id:93, d:{label: 'S',value: 92.75,color: '#ff6f00'}},{id:99, d:{label: 'S',value: 92.19,color: '#ff7b00'}},{id:103, d:{label: 'S',value: 94.00,color: '#ff5400'}},{id:102, d:{label: 'S',value: 96.19,color: '#ff2600'}},{id:56, d:{label: 'S',value: 89.19,color: '#ffbb00'}},{id:101, d:{label: 'S',value: 94.00,color: '#ff5400'}},{id:55, d:{label: 'S',value: 87.50,color: '#ffdf00'}},{id:68, d:{label: 'S',value: 90.00,color: '#ffaa00'}},{id:91, d:{label: 'S',value: 91.66,color: '#ff8600'}},{id:97, d:{label: 'S',value: 96.80,color: '#ff1900'}},{id:28, d:{label: 'S',value: 81.00,color: '#94ff00'}},{id:95, d:{label: 'S',value: 97.33,color: '#ff0e00'}},{id:67, d:{label: 'S',value: 86.91,color: '#ffeb00'}},{id:65, d:{label: 'S',value: 88.33,color: '#ffcd00'}},{id:64, d:{label: 'S',value: 91.50,color: '#ff8a00'}},{id:61, d:{label: 'S',value: 89.71,color: '#ffb000'}},{id:59, d:{label: 'S',value: 89.33,color: '#ffb800'}},{id:98, d:{label: 'S',value: 92.00,color: '#ff7f00'}},{id:52, d:{label: 'S',value: 87.16,color: '#ffe600'}},{id:96, d:{label: 'S',value: 89.25,color: '#ffb900'}},{id:50, d:{label: 'S',value: 89.50,color: '#ffb400'}},{id:85, d:{label: 'S',value: 92.50,color: '#ff7400'}},{id:63, d:{label: 'S',value: 93.00,color: '#ff6a00'}},{id:94, d:{label: 'S',value: 98.00,color: '#ff0000'}},{id:48, d:{label: 'S',value: 91.80,color: '#ff8300'}},{id:89, d:{label: 'S',value: 92.59,color: '#ff7200'}},{id:92, d:{label: 'S',value: 96.66,color: '#ff1c00'}},{id:23, d:{label: 'S',value: 78.00,color: '#54ff00'}},{id:84, d:{label: 'S',value: 93.71,color: '#ff5b00'}},{id:82, d:{label: 'S',value: 94.00,color: '#ff5400'}},{id:60, d:{label: 'S',value: 88.16,color: '#ffd000'}},{id:58, d:{label: 'S',value: 86.14,color: '#fffb00'}},{id:57, d:{label: 'S',value: 90.50,color: '#ff9f00'}},{id:54, d:{label: 'S',value: 88.19,color: '#ffd000'}},{id:24, d:{label: 'S',value: 80.50,color: '#8aff00'}},{id:66, d:{label: 'S',value: 85.00,color: '#e9ff00'}},{id:25, d:{label: 'S',value: 78.50,color: '#5fff00'}},{id:87, d:{label: 'S',value: 94.50,color: '#ff4a00'}},{id:40, d:{label: 'S',value: 89.50,color: '#ffb400'}},{id:76, d:{label: 'S',value: 90.83,color: '#ff9800'}},{id:29, d:{label: 'S',value: 81.66,color: '#a2ff00'}},{id:86, d:{label: 'S',value: 94.33,color: '#ff4d00'}},{id:39, d:{label: 'S',value: 89.80,color: '#ffae00'}},{id:75, d:{label: 'S',value: 94.66,color: '#ff4600'}},{id:81, d:{label: 'S',value: 95.85,color: '#ff2d00'}},{id:34, d:{label: 'S',value: 84.83,color: '#e6ff00'}},{id:83, d:{label: 'S',value: 94.33,color: '#ff4d00'}},{id:36, d:{label: 'S',value: 85.69,color: '#f8ff00'}},{id:80, d:{label: 'S',value: 95.71,color: '#ff3000'}},{id:33, d:{label: 'S',value: 81.87,color: '#a7ff00'}},{id:79, d:{label: 'S',value: 94.50,color: '#ff4a00'}},{id:32, d:{label: 'S',value: 81.75,color: '#a4ff00'}},{id:78, d:{label: 'S',value: 91.40,color: '#ff8c00'}},{id:31, d:{label: 'S',value: 81.25,color: '#9aff00'}},{id:77, d:{label: 'S',value: 94.83,color: '#ff4300'}},{id:30, d:{label: 'S',value: 82.00,color: '#aaff00'}},{id:74, d:{label: 'S',value: 93.40,color: '#ff6100'}},{id:51, d:{label: 'S',value: 87.66,color: '#ffdb00'}},{id:73, d:{label: 'S',value: 92.59,color: '#ff7200'}},{id:72, d:{label: 'S',value: 92.80,color: '#ff6e00'}},{id:49, d:{label: 'S',value: 86.85,color: '#ffec00'}},{id:71, d:{label: 'S',value: 91.80,color: '#ff8300'}},{id:70, d:{label: 'S',value: 94.00,color: '#ff5400'}},{id:47, d:{label: 'S',value: 90.50,color: '#ff9f00'}},{id:69, d:{label: 'S',value: 90.25,color: '#ffa400'}},{id:22, d:{label: 'S',value: 81.00,color: '#94ff00'}},{id:46, d:{label: 'S',value: 85.16,color: '#edff00'}},{id:45, d:{label: 'S',value: 88.57,color: '#ffc800'}},{id:44, d:{label: 'S',value: 92.50,color: '#ff7400'}},{id:43, d:{label: 'S',value: 90.16,color: '#ffa600'}},{id:42, d:{label: 'S',value: 91.80,color: '#ff8300'}},{id:41, d:{label: 'S',value: 88.16,color: '#ffd000'}},{id:38, d:{label: 'S',value: 90.40,color: '#ffa100'}},{id:37, d:{label: 'S',value: 87.00,color: '#ffe900'}},{id:35, d:{label: 'S',value: 84.27,color: '#daff00'}},{id:21, d:{label: 'S',value: 81.00,color: '#94ff00'}},{id:20, d:{label: 'S',value: 75.66,color: '#23ff00'}},{id:19, d:{label: 'S',value: 80.75,color: '#8fff00'}},{id:18, d:{label: 'S',value: 81.00,color: '#94ff00'}},{id:17, d:{label: 'S',value: 80.09,color: '#81ff00'}},{id:16, d:{label: 'S',value: 78.33,color: '#5cff00'}},{id:15, d:{label: 'S',value: 73.85,color: '#00ff03'}},{id:14, d:{label: 'S',value: 73.33,color: '#00ff0e'}},{id:13, d:{label: 'S',value: 73.00,color: '#00ff15'}},{id:12, d:{label: 'S',value: 74.83,color: '#11ff00'}},{id:11, d:{label: 'S',value: 66.00,color: '#00ffa9'}},{id:10, d:{label: 'S',value: 69.00,color: '#00ff6a'}},{id:9, d:{label: 'S',value: 65.25,color: '#00ffb9'}},{id:8, d:{label: 'S',value: 62.55,color: '#00fff3'}},{id:7, d:{label: 'S',value: 64.44,color: '#00ffcb'}},{id:5, d:{label: 'S',value: 64.80,color: '#00ffc3'}},{id:4, d:{label: 'S',value: 58.59,color: '#00b6ff'}},{id:3, d:{label: 'S',value: 58.25,color: '#00afff'}},{id:2, d:{label: 'S',value: 50.00,color: '#0000ff'}},{id:1, d:{label: 'S',value: 55.00,color: '#006aff'}},{id:6, d:{label: 'S',value: 68.80,color: '#00ff6e'}}];


				var background = new Image();
				background.src = "./dap_temp_B_6_sig_c.png";
				
				// Make sure the image is loaded first otherwise nothing will draw.
				background.onload = function(){
					var ctx = canvas.getContext('2d');
					ctx.drawImage(background,0,0,1440,783);

					// 0: Node color based on phenotype
					// 1: Node color based on temperature
					// 2: Node color based on DAP
					var index=0;

					for(k=0;k<data.length;k++){
					 	var position = data[k].p;

						var o1=ph, o2=temp, o3=dap;

					 	var d=[[{label:o1[k].d.value,value:1,color:o1[k].d.color}],[{label:o2[k].d.value,value:1,color:o2[k].d.color}],[{label:o3[k].d.value,value:1,color:o3[k].d.color}]];

					 	var adjust=[9,6,4];
					 	drawPie(canvas, position, d[index], data[k].id, adjust[index]);
					 }

			


					 // Save as png
					 window.location = canvas.toDataURL("image/png");
				}

				
			
		</script>
	</body>

</html>