
<!--**************************************************************************************************
 Copyright Â© 2016-2017 Md.Kamruzzaman. All rights reserved.
 The generated code is released under following licenses:
 GNU GENERAL PUBLIC LICENSE, Version 3, 29 June 2007
 --------------------------------------------------------------------------------------------------
 File name: double_dap_hum_node.html
 Objective: Color nodes of the topological object constructed by double filter function DAP and Humidity
 Additional information: NA
 --------------------------------------------------------------------------------------------------
 Contributors                   Date            Task details
 -------------------------    ----------      --------------------
 Md. Kamruzzaman              02/25/2017      Initial version
 Md. Kamruzzaman              06/20/2017      Change node coloring based on phenotype and filter attributes
 
 **************************************************************************************************-->

 <html>
	<head>

	</head>
	<body>

		<script type="text/javascript">
			function drawText(_canvas, text, position, style){
				var context = _canvas.getContext('2d');

				context.font = style.font;//'bold 10pt Calibri';
				context.fillStyle = style.color;
  				context.fillText(text, (position.x1+position.x2)/2, (position.y1+position.y2)/2);
			}

			function drawPie(_canvas, position, data, _id, _adjust, _offset){
				var total = 0;
				  for (obj of data) {
				    total += obj.value;
				  }

				  var ctx = _canvas.getContext('2d');
				  var previousRadian;
				  var middle = {
				    x: position.x-_offset.x,
				    y: _offset.y-position.y,
				    radius: position.rad
				  };
				  
				   //background
				  ctx.beginPath();
				  ctx.arc(middle.x, middle.y, middle.radius, 0, 2 * Math.PI);
				  ctx.closePath();
				  ctx.stroke();
				  ctx.fillStyle = "black";
				  ctx.fill();
				   //end of background

				  for (obj of data) {
				    previousRadian = previousRadian || 0;
				    obj.percentage = parseInt((obj.value / total) * 100)
				    
				    ctx.beginPath();
				    ctx.fillStyle = obj.color;
				    obj.radian = (Math.PI * 2) * (obj.value / total);
				    ctx.moveTo(middle.x, middle.y);
				    ctx.arc(middle.x, middle.y, middle.radius - 2, previousRadian, previousRadian + obj.radian, false);
				    ctx.closePath();
				    ctx.fill();
				    ctx.save();
				    ctx.translate(middle.x, middle.y);
				    ctx.fillStyle = "black";

				    // Adjust text color based on background color
				    var c = obj.color;
				    if(c[5]=='f'&&c[6]=='f'){
				    	if(c[1]=='0'&&c[2]=='0'&&c[3]<='8')
				    		ctx.fillStyle = "yellow";
				    }

				    if(c[3]<='8'&&c[5]=='0'&&c[6]=='0'){
				    	if(c[1]=='f'&&c[2]=='f')
				    		ctx.fillStyle = "yellow";
				    }

				    ctx.font = (_adjust+(middle.radius / 2)) + "px arial bolder";
				    ctx.fillText(obj.label, -(ctx.measureText(obj.label).width / 2), 5);
				    ctx.restore();

				    previousRadian += obj.radian;
				  }

			}
		</script>

		<canvas id="myCanvas" width="1455" height="777"></canvas>
		<script type="text/javascript">
			var canvas = document.getElementById('myCanvas');

			// Place the JSON data here which is generated in our main 'C++' project
 			// var data=JSON data
 			var data=[{id:105,p:{x:91.000000,y:68.000000,rad:17.14}, d:[{label: "BK",value: 12,color: '#ff0000'},{label: "BN",value: 5,color: '#E67E22'}]},{id:82,p:{x:370.000000,y:138.000000,rad:21.42}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:59,p:{x:214.000000,y:258.000000,rad:19.28}, d:[{label: "BN",value: 20,color: '#E67E22'}]},{id:83,p:{x:260.000000,y:60.000000,rad:25.71}, d:[{label: "BK",value: 42,color: '#ff0000'}]},{id:60,p:{x:120.000000,y:243.000000,rad:23.57}, d:[{label: "BK",value: 6,color: '#ff0000'},{label: "BN",value: 25,color: '#E67E22'}]},{id:104,p:{x:188.000000,y:72.000000,rad:21.42}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:81,p:{x:464.000000,y:132.000000,rad:21.42}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:103,p:{x:348.000000,y:54.000000,rad:21.42}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:80,p:{x:553.000000,y:131.000000,rad:21.42}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:102,p:{x:450.000000,y:55.000000,rad:23.57}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:79,p:{x:643.000000,y:54.000000,rad:19.28}, d:[{label: "BK",value: 24,color: '#ff0000'}]},{id:56,p:{x:633.000000,y:135.000000,rad:15.00}, d:[{label: "BK",value: 12,color: '#ff0000'}]},{id:101,p:{x:549.000000,y:55.000000,rad:21.42}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:98,p:{x:689.000000,y:131.000000,rad:15.00}, d:[{label: "BK",value: 12,color: '#ff0000'}]},{id:87,p:{x:63.000000,y:164.000000,rad:19.28}, d:[{label: "BK",value: 12,color: '#ff0000'},{label: "BN",value: 10,color: '#E67E22'}]},{id:41,p:{x:285.000000,y:282.000000,rad:19.28}, d:[{label: "BN",value: 20,color: '#E67E22'}]},{id:86,p:{x:140.000000,y:139.000000,rad:30.00}, d:[{label: "BK",value: 30,color: '#ff0000'},{label: "BN",value: 20,color: '#E67E22'}]},{id:85,p:{x:226.000000,y:178.000000,rad:23.57}, d:[{label: "BK",value: 24,color: '#ff0000'},{label: "BN",value: 10,color: '#E67E22'}]},{id:84,p:{x:295.000000,y:147.000000,rad:23.57}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:42,p:{x:160.000000,y:312.000000,rad:19.28}, d:[{label: "BN",value: 20,color: '#E67E22'}]},{id:19,p:{x:241.000000,y:356.000000,rad:15.00}, d:[{label: "BN",value: 10,color: '#E67E22'}]},{id:97,p:{x:547.000000,y:585.000000,rad:22.00}, d:[{label: "BK",value: 24,color: '#ff0000'}]},{id:50,p:{x:1140.000000,y:689.000000,rad:26.00}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:74,p:{x:941.000000,y:632.000000,rad:26.00}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:92,p:{x:1368.000000,y:311.000000,rad:20.00}, d:[{label: "BK",value: 18,color: '#ff0000'}]},{id:45,p:{x:1035.000000,y:479.000000,rad:28.00}, d:[{label: "BK",value: 24,color: '#ff0000'},{label: "BN",value: 15,color: '#E67E22'}]},{id:69,p:{x:1311.000000,y:477.000000,rad:26.00}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:95,p:{x:624.000000,y:565.000000,rad:20.00}, d:[{label: "BK",value: 18,color: '#ff0000'}]},{id:48,p:{x:1137.000000,y:184.000000,rad:24.00}, d:[{label: "BK",value: 24,color: '#ff0000'},{label: "BN",value: 5,color: '#E67E22'}]},{id:72,p:{x:1100.000000,y:581.000000,rad:26.00}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:94,p:{x:883.000000,y:700.000000,rad:24.00}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:47,p:{x:1194.000000,y:295.000000,rad:26.00}, d:[{label: "BK",value: 30,color: '#ff0000'},{label: "BN",value: 5,color: '#E67E22'}]},{id:71,p:{x:1189.000000,y:603.000000,rad:26.00}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:93,p:{x:981.000000,y:736.000000,rad:26.00}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:46,p:{x:1086.000000,y:374.000000,rad:30.00}, d:[{label: "BK",value: 24,color: '#ff0000'},{label: "BN",value: 20,color: '#E67E22'}]},{id:70,p:{x:1281.000000,y:558.000000,rad:26.00}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:91,p:{x:1293.000000,y:279.000000,rad:24.00}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:44,p:{x:963.000000,y:557.000000,rad:24.00}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:68,p:{x:1367.000000,y:400.000000,rad:24.00}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:90,p:{x:1325.000000,y:199.000000,rad:18.00}, d:[{label: "BK",value: 12,color: '#ff0000'}]},{id:43,p:{x:901.000000,y:502.000000,rad:20.00}, d:[{label: "BK",value: 12,color: '#ff0000'},{label: "BN",value: 5,color: '#E67E22'}]},{id:67,p:{x:1284.000000,y:366.000000,rad:26.00}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:89,p:{x:1204.000000,y:496.000000,rad:18.00}, d:[{label: "BK",value: 12,color: '#ff0000'}]},{id:66,p:{x:1230.000000,y:198.000000,rad:24.00}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:78,p:{x:595.000000,y:663.000000,rad:22.00}, d:[{label: "BK",value: 24,color: '#ff0000'}]},{id:77,p:{x:674.000000,y:649.000000,rad:28.00}, d:[{label: "BK",value: 42,color: '#ff0000'}]},{id:76,p:{x:207.000000,y:556.000000,rad:15.00}, d:[{label: "BN",value: 5,color: '#E67E22'}]},{id:75,p:{x:788.000000,y:705.000000,rad:26.00}, d:[{label: "BK",value: 36,color: '#ff0000'}]},{id:73,p:{x:1047.000000,y:702.000000,rad:24.00}, d:[{label: "BK",value: 30,color: '#ff0000'}]},{id:65,p:{x:1110.000000,y:271.000000,rad:28.00}, d:[{label: "BK",value: 36,color: '#ff0000'},{label: "BN",value: 5,color: '#E67E22'}]},{id:64,p:{x:1174.000000,y:399.000000,rad:30.00}, d:[{label: "BK",value: 36,color: '#ff0000'},{label: "BN",value: 10,color: '#E67E22'}]},{id:63,p:{x:1119.000000,y:481.000000,rad:20.00}, d:[{label: "BK",value: 12,color: '#ff0000'},{label: "BN",value: 5,color: '#E67E22'}]},{id:62,p:{x:887.000000,y:584.000000,rad:20.00}, d:[{label: "BK",value: 18,color: '#ff0000'}]},{id:61,p:{x:846.000000,y:531.000000,rad:20.00}, d:[{label: "BK",value: 18,color: '#ff0000'}]},{id:58,p:{x:137.000000,y:553.000000,rad:20.00}, d:[{label: "BN",value: 15,color: '#E67E22'}]},{id:57,p:{x:153.000000,y:630.000000,rad:20.00}, d:[{label: "BN",value: 15,color: '#E67E22'}]},{id:55,p:{x:616.000000,y:747.000000,rad:20.00}, d:[{label: "BK",value: 18,color: '#ff0000'}]},{id:54,p:{x:283.000000,y:589.000000,rad:18.00}, d:[{label: "BN",value: 10,color: '#E67E22'}]},{id:53,p:{x:709.000000,y:744.000000,rad:28.00}, d:[{label: "BK",value: 42,color: '#ff0000'}]},{id:52,p:{x:750.000000,y:634.000000,rad:22.00}, d:[{label: "BK",value: 24,color: '#ff0000'}]},{id:51,p:{x:1015.000000,y:601.000000,rad:22.00}, d:[{label: "BK",value: 24,color: '#ff0000'}]},{id:49,p:{x:1049.000000,y:70.000000,rad:24.00}, d:[{label: "BK",value: 12,color: '#ff0000'},{label: "BN",value: 15,color: '#E67E22'}]},{id:40,p:{x:64.000000,y:322.000000,rad:22.00}, d:[{label: "BN",value: 20,color: '#E67E22'}]},{id:38,p:{x:126.000000,y:384.000000,rad:26.00}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:37,p:{x:45.000000,y:562.000000,rad:26.00}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:36,p:{x:60.000000,y:644.000000,rad:26.00}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:35,p:{x:140.000000,y:723.000000,rad:28.00}, d:[{label: "BN",value: 35,color: '#E67E22'}]},{id:34,p:{x:219.000000,y:651.000000,rad:26.00}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:33,p:{x:316.000000,y:686.000000,rad:24.00}, d:[{label: "BN",value: 25,color: '#E67E22'}]},{id:32,p:{x:391.000000,y:642.000000,rad:26.00}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:31,p:{x:453.000000,y:575.000000,rad:22.00}, d:[{label: "BN",value: 20,color: '#E67E22'}]},{id:30,p:{x:488.000000,y:335.000000,rad:24.00}, d:[{label: "BN",value: 25,color: '#E67E22'}]},{id:29,p:{x:590.000000,y:368.000000,rad:26.00}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:28,p:{x:627.000000,y:227.000000,rad:22.00}, d:[{label: "BN",value: 20,color: '#E67E22'}]},{id:27,p:{x:702.000000,y:196.000000,rad:22.00}, d:[{label: "BN",value: 20,color: '#E67E22'}]},{id:26,p:{x:829.000000,y:233.000000,rad:28.00}, d:[{label: "BN",value: 35,color: '#E67E22'}]},{id:25,p:{x:853.000000,y:107.000000,rad:26.00}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:24,p:{x:939.000000,y:79.000000,rad:26.00}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:23,p:{x:1052.000000,y:158.000000,rad:26.00}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:22,p:{x:986.000000,y:403.000000,rad:20.00}, d:[{label: "BN",value: 15,color: '#E67E22'}]},{id:21,p:{x:955.000000,y:477.000000,rad:26.00}, d:[{label: "BK",value: 18,color: '#ff0000'},{label: "BN",value: 15,color: '#E67E22'}]},{id:18,p:{x:47.000000,y:406.000000,rad:20.00}, d:[{label: "BN",value: 15,color: '#E67E22'}]},{id:17,p:{x:109.000000,y:483.000000,rad:24.00}, d:[{label: "BN",value: 25,color: '#E67E22'}]},{id:16,p:{x:243.000000,y:743.000000,rad:26.00}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:15,p:{x:337.000000,y:558.000000,rad:22.00}, d:[{label: "BN",value: 20,color: '#E67E22'}]},{id:14,p:{x:403.000000,y:490.000000,rad:28.00}, d:[{label: "BN",value: 35,color: '#E67E22'}]},{id:13,p:{x:435.000000,y:404.000000,rad:26.00}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:12,p:{x:516.000000,y:430.000000,rad:24.00}, d:[{label: "BN",value: 25,color: '#E67E22'}]},{id:11,p:{x:555.000000,y:275.000000,rad:28.00}, d:[{label: "BN",value: 35,color: '#E67E22'}]},{id:10,p:{x:669.000000,y:317.000000,rad:26.00}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:9,p:{x:747.000000,y:281.000000,rad:26.00}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:8,p:{x:768.000000,y:147.000000,rad:28.00}, d:[{label: "BN",value: 35,color: '#E67E22'}]},{id:7,p:{x:898.000000,y:196.000000,rad:22.00}, d:[{label: "BN",value: 20,color: '#E67E22'}]},{id:6,p:{x:970.000000,y:171.000000,rad:20.00}, d:[{label: "BN",value: 15,color: '#E67E22'}]},{id:5,p:{x:930.000000,y:246.000000,rad:24.00}, d:[{label: "BN",value: 25,color: '#E67E22'}]},{id:4,p:{x:964.000000,y:323.000000,rad:26.00}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:3,p:{x:932.000000,y:388.000000,rad:20.00}, d:[{label: "BN",value: 15,color: '#E67E22'}]},{id:2,p:{x:848.000000,y:464.000000,rad:26.00}, d:[{label: "BN",value: 30,color: '#E67E22'}]},{id:1,p:{x:864.000000,y:364.000000,rad:20.00}, d:[{label: "BN",value: 15,color: '#E67E22'}]}];

 			// var ph=JSON data
 			var ph=[{id:105, d:{label: 'P',value: 0.06,color: '#0007ff'}},{id:82, d:{label: 'P',value: 0.00,color: '#0000ff'}},{id:59, d:{label: 'P',value: 1.10,color: '#0074ff'}},{id:83, d:{label: 'P',value: 0.00,color: '#0000ff'}},{id:60, d:{label: 'P',value: 0.35,color: '#0024ff'}},{id:104, d:{label: 'P',value: 0.00,color: '#0000ff'}},{id:81, d:{label: 'P',value: 0.00,color: '#0000ff'}},{id:103, d:{label: 'P',value: 0.00,color: '#0000ff'}},{id:80, d:{label: 'P',value: 0.02,color: '#0002ff'}},{id:102, d:{label: 'P',value: 0.00,color: '#0000ff'}},{id:79, d:{label: 'P',value: 0.19,color: '#0014ff'}},{id:56, d:{label: 'P',value: 0.13,color: '#000eff'}},{id:101, d:{label: 'P',value: 0.01,color: '#0001ff'}},{id:98, d:{label: 'P',value: 0.82,color: '#0056ff'}},{id:87, d:{label: 'P',value: 0.08,color: '#0009ff'}},{id:41, d:{label: 'P',value: 2.12,color: '#00deff'}},{id:86, d:{label: 'P',value: 0.21,color: '#0016ff'}},{id:85, d:{label: 'P',value: 0.25,color: '#001bff'}},{id:84, d:{label: 'P',value: 0.00,color: '#0000ff'}},{id:42, d:{label: 'P',value: 1.56,color: '#00a3ff'}},{id:19, d:{label: 'P',value: 2.66,color: '#00ffe6'}},{id:97, d:{label: 'P',value: 9.61,color: '#ff0c00'}},{id:50, d:{label: 'P',value: 2.20,color: '#00e7ff'}},{id:74, d:{label: 'P',value: 3.47,color: '#00ff92'}},{id:92, d:{label: 'P',value: 0.81,color: '#0055ff'}},{id:45, d:{label: 'P',value: 0.12,color: '#000dff'}},{id:69, d:{label: 'P',value: 1.12,color: '#0075ff'}},{id:95, d:{label: 'P',value: 9.73,color: '#ff0000'}},{id:48, d:{label: 'P',value: 0.35,color: '#0025ff'}},{id:72, d:{label: 'P',value: 2.15,color: '#00e1ff'}},{id:94, d:{label: 'P',value: 4.13,color: '#00ff4c'}},{id:47, d:{label: 'P',value: 0.27,color: '#001cff'}},{id:71, d:{label: 'P',value: 1.71,color: '#00b3ff'}},{id:93, d:{label: 'P',value: 3.69,color: '#00ff7b'}},{id:46, d:{label: 'P',value: 0.15,color: '#0010ff'}},{id:70, d:{label: 'P',value: 1.38,color: '#0091ff'}},{id:91, d:{label: 'P',value: 0.56,color: '#003aff'}},{id:44, d:{label: 'P',value: 0.16,color: '#0011ff'}},{id:68, d:{label: 'P',value: 0.84,color: '#0058ff'}},{id:90, d:{label: 'P',value: 0.40,color: '#002aff'}},{id:43, d:{label: 'P',value: 0.08,color: '#0009ff'}},{id:67, d:{label: 'P',value: 0.68,color: '#0047ff'}},{id:89, d:{label: 'P',value: 0.22,color: '#0017ff'}},{id:66, d:{label: 'P',value: 0.42,color: '#002cff'}},{id:78, d:{label: 'P',value: 8.58,color: '#ff7800'}},{id:77, d:{label: 'P',value: 7.28,color: '#fdff00'}},{id:76, d:{label: 'P',value: 1.57,color: '#00a5ff'}},{id:75, d:{label: 'P',value: 5.68,color: '#56ff00'}},{id:73, d:{label: 'P',value: 2.87,color: '#00ffd1'}},{id:65, d:{label: 'P',value: 0.27,color: '#001dff'}},{id:64, d:{label: 'P',value: 0.21,color: '#0016ff'}},{id:63, d:{label: 'P',value: 0.16,color: '#0010ff'}},{id:62, d:{label: 'P',value: 0.14,color: '#000fff'}},{id:61, d:{label: 'P',value: 0.13,color: '#000dff'}},{id:58, d:{label: 'P',value: 5.19,color: '#21ff00'}},{id:57, d:{label: 'P',value: 4.72,color: '#00ff0f'}},{id:55, d:{label: 'P',value: 8.30,color: '#ff9500'}},{id:54, d:{label: 'P',value: 1.64,color: '#00acff'}},{id:53, d:{label: 'P',value: 7.28,color: '#fdff00'}},{id:52, d:{label: 'P',value: 6.08,color: '#7fff00'}},{id:51, d:{label: 'P',value: 2.66,color: '#00ffe7'}},{id:49, d:{label: 'P',value: 0.23,color: '#0018ff'}},{id:40, d:{label: 'P',value: 6.08,color: '#7fff00'}},{id:38, d:{label: 'P',value: 6.62,color: '#b8ff00'}},{id:37, d:{label: 'P',value: 5.37,color: '#35ff00'}},{id:36, d:{label: 'P',value: 4.33,color: '#00ff37'}},{id:35, d:{label: 'P',value: 3.31,color: '#00ffa2'}},{id:34, d:{label: 'P',value: 2.49,color: '#00fff8'}},{id:33, d:{label: 'P',value: 2.02,color: '#00d4ff'}},{id:32, d:{label: 'P',value: 1.45,color: '#0098ff'}},{id:31, d:{label: 'P',value: 1.19,color: '#007cff'}},{id:30, d:{label: 'P',value: 0.50,color: '#0035ff'}},{id:29, d:{label: 'P',value: 0.36,color: '#0026ff'}},{id:28, d:{label: 'P',value: 0.28,color: '#001eff'}},{id:27, d:{label: 'P',value: 0.19,color: '#0014ff'}},{id:26, d:{label: 'P',value: 0.16,color: '#0011ff'}},{id:25, d:{label: 'P',value: 0.12,color: '#000cff'}},{id:24, d:{label: 'P',value: 0.09,color: '#0009ff'}},{id:23, d:{label: 'P',value: 0.07,color: '#0007ff'}},{id:22, d:{label: 'P',value: 0.03,color: '#0003ff'}},{id:21, d:{label: 'P',value: 0.10,color: '#000aff'}},{id:18, d:{label: 'P',value: 6.89,color: '#d4ff00'}},{id:17, d:{label: 'P',value: 6.57,color: '#b2ff00'}},{id:16, d:{label: 'P',value: 2.49,color: '#00fff8'}},{id:15, d:{label: 'P',value: 1.03,color: '#006cff'}},{id:14, d:{label: 'P',value: 0.83,color: '#0057ff'}},{id:13, d:{label: 'P',value: 0.67,color: '#0046ff'}},{id:12, d:{label: 'P',value: 0.48,color: '#0032ff'}},{id:11, d:{label: 'P',value: 0.36,color: '#0026ff'}},{id:10, d:{label: 'P',value: 0.27,color: '#001cff'}},{id:9, d:{label: 'P',value: 0.21,color: '#0016ff'}},{id:8, d:{label: 'P',value: 0.16,color: '#0011ff'}},{id:7, d:{label: 'P',value: 0.12,color: '#000dff'}},{id:6, d:{label: 'P',value: 0.09,color: '#0009ff'}},{id:5, d:{label: 'P',value: 0.05,color: '#0005ff'}},{id:4, d:{label: 'P',value: 0.04,color: '#0004ff'}},{id:3, d:{label: 'P',value: 0.02,color: '#0002ff'}},{id:2, d:{label: 'P',value: 0.01,color: '#0001ff'}},{id:1, d:{label: 'P',value: 0.01,color: '#0001ff'}}];

 			// var f1=JSON data for variable named FILTER_NAMES[0]
 			var f1=[{id:105, d:{label: 'T',value: 98.33,color: '#ff0000'}},{id:82, d:{label: 'T',value: 82.80,color: '#ffa300'}},{id:59, d:{label: 'T',value: 93.00,color: '#ff3800'}},{id:83, d:{label: 'T',value: 86.00,color: '#ff8100'}},{id:60, d:{label: 'T',value: 96.33,color: '#ff1500'}},{id:104, d:{label: 'T',value: 93.00,color: '#ff3800'}},{id:81, d:{label: 'T',value: 78.59,color: '#ffcf00'}},{id:103, d:{label: 'T',value: 82.19,color: '#ffa900'}},{id:80, d:{label: 'T',value: 75.59,color: '#ffef00'}},{id:102, d:{label: 'T',value: 79.00,color: '#ffcb00'}},{id:79, d:{label: 'T',value: 72.50,color: '#eeff00'}},{id:56, d:{label: 'T',value: 72.50,color: '#eeff00'}},{id:101, d:{label: 'T',value: 76.00,color: '#ffea00'}},{id:98, d:{label: 'T',value: 70.50,color: '#d9ff00'}},{id:87, d:{label: 'T',value: 98.00,color: '#ff0300'}},{id:41, d:{label: 'T',value: 90.50,color: '#ff5200'}},{id:86, d:{label: 'T',value: 96.11,color: '#ff1700'}},{id:85, d:{label: 'T',value: 93.00,color: '#ff3800'}},{id:84, d:{label: 'T',value: 88.50,color: '#ff6700'}},{id:42, d:{label: 'T',value: 91.75,color: '#ff4500'}},{id:19, d:{label: 'T',value: 89.50,color: '#ff5c00'}},{id:97, d:{label: 'T',value: 64.50,color: '#9aff00'}},{id:50, d:{label: 'T',value: 42.00,color: '#00ff52'}},{id:74, d:{label: 'T',value: 48.50,color: '#00ff0e'}},{id:92, d:{label: 'T',value: 28.00,color: '#00ffe5'}},{id:45, d:{label: 'T',value: 8.85,color: '#004fff'}},{id:69, d:{label: 'T',value: 32.50,color: '#00ffb6'}},{id:95, d:{label: 'T',value: 64.00,color: '#94ff00'}},{id:48, d:{label: 'T',value: 19.20,color: '#00bbff'}},{id:72, d:{label: 'T',value: 41.66,color: '#00ff55'}},{id:94, d:{label: 'T',value: 51.00,color: '#0cff00'}},{id:47, d:{label: 'T',value: 14.33,color: '#0088ff'}},{id:71, d:{label: 'T',value: 38.50,color: '#00ff77'}},{id:93, d:{label: 'T',value: 49.33,color: '#00ff05'}},{id:46, d:{label: 'T',value: 11.62,color: '#006cff'}},{id:70, d:{label: 'T',value: 35.50,color: '#00ff96'}},{id:91, d:{label: 'T',value: 22.60,color: '#00dfff'}},{id:44, d:{label: 'T',value: 5.60,color: '#002cff'}},{id:68, d:{label: 'T',value: 28.40,color: '#00ffe1'}},{id:90, d:{label: 'T',value: 18.00,color: '#00afff'}},{id:43, d:{label: 'T',value: 1.33,color: '#0000ff'}},{id:67, d:{label: 'T',value: 25.50,color: '#00feff'}},{id:89, d:{label: 'T',value: 9.50,color: '#0055ff'}},{id:66, d:{label: 'T',value: 18.79,color: '#00b7ff'}},{id:78, d:{label: 'T',value: 61.50,color: '#7aff00'}},{id:77, d:{label: 'T',value: 59.00,color: '#60ff00'}},{id:76, d:{label: 'T',value: 60.00,color: '#6aff00'}},{id:75, d:{label: 'T',value: 55.50,color: '#3bff00'}},{id:73, d:{label: 'T',value: 45.79,color: '#00ff2a'}},{id:65, d:{label: 'T',value: 14.28,color: '#0088ff'}},{id:64, d:{label: 'T',value: 12.12,color: '#0071ff'}},{id:63, d:{label: 'T',value: 10.33,color: '#005eff'}},{id:62, d:{label: 'T',value: 3.66,color: '#0018ff'}},{id:61, d:{label: 'T',value: 2.33,color: '#000aff'}},{id:58, d:{label: 'T',value: 75.00,color: '#fff500'}},{id:57, d:{label: 'T',value: 73.66,color: '#faff00'}},{id:55, d:{label: 'T',value: 61.00,color: '#75ff00'}},{id:54, d:{label: 'T',value: 60.50,color: '#70ff00'}},{id:53, d:{label: 'T',value: 59.00,color: '#60ff00'}},{id:52, d:{label: 'T',value: 56.50,color: '#46ff00'}},{id:51, d:{label: 'T',value: 44.75,color: '#00ff35'}},{id:49, d:{label: 'T',value: 21.40,color: '#00d3ff'}},{id:40, d:{label: 'T',value: 84.50,color: '#ff9100'}},{id:38, d:{label: 'T',value: 82.50,color: '#ffa600'}},{id:37, d:{label: 'T',value: 75.50,color: '#fff000'}},{id:36, d:{label: 'T',value: 72.50,color: '#eeff00'}},{id:35, d:{label: 'T',value: 69.00,color: '#c9ff00'}},{id:34, d:{label: 'T',value: 65.50,color: '#a4ff00'}},{id:33, d:{label: 'T',value: 63.00,color: '#8aff00'}},{id:32, d:{label: 'T',value: 58.83,color: '#5eff00'}},{id:31, d:{label: 'T',value: 56.50,color: '#46ff00'}},{id:30, d:{label: 'T',value: 46.00,color: '#00ff28'}},{id:29, d:{label: 'T',value: 41.83,color: '#00ff54'}},{id:28, d:{label: 'T',value: 39.00,color: '#00ff71'}},{id:27, d:{label: 'T',value: 34.50,color: '#00ffa1'}},{id:26, d:{label: 'T',value: 32.00,color: '#00ffbb'}},{id:25, d:{label: 'T',value: 28.50,color: '#00ffe0'}},{id:24, d:{label: 'T',value: 25.50,color: '#00feff'}},{id:23, d:{label: 'T',value: 22.50,color: '#00deff'}},{id:22, d:{label: 'T',value: 12.00,color: '#0070ff'}},{id:21, d:{label: 'T',value: 7.50,color: '#0040ff'}},{id:18, d:{label: 'T',value: 81.00,color: '#ffb600'}},{id:17, d:{label: 'T',value: 79.59,color: '#ffc400'}},{id:16, d:{label: 'T',value: 65.50,color: '#a4ff00'}},{id:15, d:{label: 'T',value: 54.75,color: '#33ff00'}},{id:14, d:{label: 'T',value: 52.00,color: '#16ff00'}},{id:13, d:{label: 'T',value: 49.50,color: '#00ff03'}},{id:12, d:{label: 'T',value: 45.40,color: '#00ff2e'}},{id:11, d:{label: 'T',value: 42.00,color: '#00ff52'}},{id:10, d:{label: 'T',value: 38.50,color: '#00ff77'}},{id:9, d:{label: 'T',value: 35.50,color: '#00ff96'}},{id:8, d:{label: 'T',value: 32.00,color: '#00ffbb'}},{id:7, d:{label: 'T',value: 29.00,color: '#00ffdb'}},{id:6, d:{label: 'T',value: 25.00,color: '#00f8ff'}},{id:5, d:{label: 'T',value: 18.00,color: '#00afff'}},{id:4, d:{label: 'T',value: 15.50,color: '#0094ff'}},{id:3, d:{label: 'T',value: 7.00,color: '#003bff'}},{id:2, d:{label: 'T',value: 5.00,color: '#0026ff'}},{id:1, d:{label: 'T',value: 3.00,color: '#0011ff'}}];


 			// var f2=JSON data for variable named FILTER_NAMES[1]
 			var f2=[{id:105, d:{label: 'S',value: 73.15,color: '#ff9400'}},{id:82, d:{label: 'S',value: 68.06,color: '#ffe500'}},{id:59, d:{label: 'S',value: 46.20,color: '#00ff45'}},{id:83, d:{label: 'S',value: 63.33,color: '#ccff00'}},{id:60, d:{label: 'S',value: 53.35,color: '#2cff00'}},{id:104, d:{label: 'S',value: 76.95,color: '#ff5700'}},{id:81, d:{label: 'S',value: 70.58,color: '#ffbd00'}},{id:103, d:{label: 'S',value: 72.60,color: '#ff9c00'}},{id:80, d:{label: 'S',value: 68.36,color: '#ffe000'}},{id:102, d:{label: 'S',value: 72.95,color: '#ff9700'}},{id:79, d:{label: 'S',value: 64.84,color: '#e4ff00'}},{id:56, d:{label: 'S',value: 58.32,color: '#7cff00'}},{id:101, d:{label: 'S',value: 73.72,color: '#ff8a00'}},{id:98, d:{label: 'S',value: 77.18,color: '#ff5300'}},{id:87, d:{label: 'S',value: 66.78,color: '#fffa00'}},{id:41, d:{label: 'S',value: 34.54,color: '#00fdff'}},{id:86, d:{label: 'S',value: 66.26,color: '#fbff00'}},{id:85, d:{label: 'S',value: 66.44,color: '#feff00'}},{id:84, d:{label: 'S',value: 63.22,color: '#caff00'}},{id:42, d:{label: 'S',value: 39.72,color: '#00ffad'}},{id:19, d:{label: 'S',value: 26.27,color: '#0078ff'}},{id:97, d:{label: 'S',value: 82.38,color: '#ff0000'}},{id:50, d:{label: 'S',value: 55.58,color: '#50ff00'}},{id:74, d:{label: 'S',value: 72.31,color: '#ffa100'}},{id:92, d:{label: 'S',value: 77.58,color: '#ff4c00'}},{id:45, d:{label: 'S',value: 51.12,color: '#09ff00'}},{id:69, d:{label: 'S',value: 61.89,color: '#b5ff00'}},{id:95, d:{label: 'S',value: 82.39,color: '#ff0000'}},{id:48, d:{label: 'S',value: 54.82,color: '#44ff00'}},{id:72, d:{label: 'S',value: 60.11,color: '#99ff00'}},{id:94, d:{label: 'S',value: 76.48,color: '#ff5e00'}},{id:47, d:{label: 'S',value: 57.63,color: '#71ff00'}},{id:71, d:{label: 'S',value: 65.41,color: '#edff00'}},{id:93, d:{label: 'S',value: 75.84,color: '#ff6800'}},{id:46, d:{label: 'S',value: 54.73,color: '#42ff00'}},{id:70, d:{label: 'S',value: 66.96,color: '#fff700'}},{id:91, d:{label: 'S',value: 71.92,color: '#ffa700'}},{id:44, d:{label: 'S',value: 53.66,color: '#31ff00'}},{id:68, d:{label: 'S',value: 66.82,color: '#fff900'}},{id:90, d:{label: 'S',value: 77.18,color: '#ff5300'}},{id:43, d:{label: 'S',value: 53.63,color: '#31ff00'}},{id:67, d:{label: 'S',value: 70.98,color: '#ffb600'}},{id:89, d:{label: 'S',value: 75.58,color: '#ff6d00'}},{id:66, d:{label: 'S',value: 60.26,color: '#9bff00'}},{id:78, d:{label: 'S',value: 63.18,color: '#caff00'}},{id:77, d:{label: 'S',value: 59.16,color: '#89ff00'}},{id:76, d:{label: 'S',value: 64.52,color: '#dfff00'}},{id:75, d:{label: 'S',value: 64.08,color: '#d8ff00'}},{id:73, d:{label: 'S',value: 64.94,color: '#e6ff00'}},{id:65, d:{label: 'S',value: 58.83,color: '#84ff00'}},{id:64, d:{label: 'S',value: 60.62,color: '#a1ff00'}},{id:63, d:{label: 'S',value: 64.65,color: '#e1ff00'}},{id:62, d:{label: 'S',value: 63.02,color: '#c7ff00'}},{id:61, d:{label: 'S',value: 59.82,color: '#94ff00'}},{id:58, d:{label: 'S',value: 40.22,color: '#00ffa5'}},{id:57, d:{label: 'S',value: 43.65,color: '#00ff6e'}},{id:55, d:{label: 'S',value: 57.30,color: '#6cff00'}},{id:54, d:{label: 'S',value: 56.11,color: '#59ff00'}},{id:53, d:{label: 'S',value: 59.16,color: '#89ff00'}},{id:52, d:{label: 'S',value: 60.15,color: '#99ff00'}},{id:51, d:{label: 'S',value: 54.33,color: '#3cff00'}},{id:49, d:{label: 'S',value: 46.86,color: '#00ff3b'}},{id:40, d:{label: 'S',value: 37.41,color: '#00ffd2'}},{id:38, d:{label: 'S',value: 30.52,color: '#00bcff'}},{id:37, d:{label: 'S',value: 32.71,color: '#00dfff'}},{id:36, d:{label: 'S',value: 35.67,color: '#00ffee'}},{id:35, d:{label: 'S',value: 31.03,color: '#00c4ff'}},{id:34, d:{label: 'S',value: 28.86,color: '#00a2ff'}},{id:33, d:{label: 'S',value: 34.10,color: '#00f6ff'}},{id:32, d:{label: 'S',value: 36.60,color: '#00ffdf'}},{id:31, d:{label: 'S',value: 30.97,color: '#00c4ff'}},{id:30, d:{label: 'S',value: 25.98,color: '#0074ff'}},{id:29, d:{label: 'S',value: 23.82,color: '#0051ff'}},{id:28, d:{label: 'S',value: 25.17,color: '#0067ff'}},{id:27, d:{label: 'S',value: 24.48,color: '#005cff'}},{id:26, d:{label: 'S',value: 27.36,color: '#008aff'}},{id:25, d:{label: 'S',value: 31.33,color: '#00c9ff'}},{id:24, d:{label: 'S',value: 34.24,color: '#00f8ff'}},{id:23, d:{label: 'S',value: 35.07,color: '#00fff8'}},{id:22, d:{label: 'S',value: 31.29,color: '#00c9ff'}},{id:21, d:{label: 'S',value: 38.22,color: '#00ffc5'}},{id:18, d:{label: 'S',value: 23.99,color: '#0054ff'}},{id:17, d:{label: 'S',value: 24.13,color: '#0056ff'}},{id:16, d:{label: 'S',value: 28.86,color: '#00a2ff'}},{id:15, d:{label: 'S',value: 21.21,color: '#0027ff'}},{id:14, d:{label: 'S',value: 18.74,color: '#0000ff'}},{id:13, d:{label: 'S',value: 22.58,color: '#003dff'}},{id:12, d:{label: 'S',value: 22.64,color: '#003eff'}},{id:11, d:{label: 'S',value: 22.96,color: '#0043ff'}},{id:10, d:{label: 'S',value: 22.20,color: '#0037ff'}},{id:9, d:{label: 'S',value: 21.74,color: '#0030ff'}},{id:8, d:{label: 'S',value: 27.36,color: '#008aff'}},{id:7, d:{label: 'S',value: 27.40,color: '#008aff'}},{id:6, d:{label: 'S',value: 29.68,color: '#00afff'}},{id:5, d:{label: 'S',value: 19.81,color: '#0011ff'}},{id:4, d:{label: 'S',value: 22.40,color: '#003aff'}},{id:3, d:{label: 'S',value: 20.10,color: '#0015ff'}},{id:2, d:{label: 'S',value: 21.25,color: '#0028ff'}},{id:1, d:{label: 'S',value: 22.40,color: '#003aff'}}];

			// Load background image
			// If image is under same directory of the html file then use ./filename.png
			var background = new Image();
			background.src = "./dap_hum.png";
				
			// Make sure the image is loaded first otherwise nothing will draw.
			background.onload = function(){
				var ctx = canvas.getContext('2d');
				// START X: Start position along x axis
				// START Y: Start position along y axis
				ctx.drawImage(background,0,0,1440,783);

				var _offset = {x:0,y:777};
				var o1=ph, o2=f1, o3=f2;

				// 0: Node color based on phenotype
				// 1: Node color based on filter 1
				// 2: Node color based on filter 2
				var index=0;

				// n1: Adjust text of a node for index=0
				// n2: Adjust text of a node for index=1
				// n3: Adjust text of a node for index=2
				var adjust=[9,6,6];

				for(k=0;k<data.length;k++){
				 	var position = data[k].p;

					var d=[[{label:o1[k].d.value,value:1,color:o1[k].d.color}],[{label:o2[k].d.value,value:1,color:o2[k].d.color}],[{label:o3[k].d.value,value:1,color:o3[k].d.color}]];

					 	
					drawPie(canvas, position, d[index], data[k].id, adjust[index], _offset);
				}

				// Save as png
				window.location = canvas.toDataURL("image/png");
			}
		</script>
	</body>

</html>